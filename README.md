# [南开大学24C++]Liar Dice with Z-ai
upd：5.7
上传整体框架，游戏逻辑
还需要加入AI接口以及UI

upd：5.13
终于卡着DDL前完成了AI与UI的设计，虽然有点粗糙，但是我觉得这个AI的设计还是比较合理的，下面对AI进行简单的介绍：
我们首先考虑一个朴素的情况，此时对手给出猜测[4,1],我们手上的骰子点数为[1,1,2,3,5]
那么一个很简单的想法就是我们计算对手手中拥有两个1的概率，同时我们知道对手点数为1的骰子个数服从二项式分布，由此我们计算出
$P = 1 - \binom{0}{5}(\frac{1}{6})^0 * (\frac{5}{6})^5 - \binom{1}{5}(\frac{1}{6})^1 * (\frac{5}{6})^4\approx 0.8$

那么显然这是个概率很大的事件，我们应该选择加大筹码

那么我们该如何计算选择的筹码呢，一个很暴力的思想油然而生：

我们可以枚举所有合法的猜测，然后选出对手喊liar的概率最小也就是对手按上面方法计算得到的概率最大的猜测

此时我们面临两个问题：

1.上面的方法中我们是知道自己的骰子的分布的，但是此时我们并不知道对手骰子的分布，可是对手向我们提供了一个信息也就是他的guess[r,d]，那么我们由此根据贝叶斯的思想，选择对手做出这个决策先验概率最大的分布。这实际上是很难算出来的因此我们可以采取如下的猜测方式：

分两种情况考虑，第一种d = 1，

那么此时我们认为对方至少拥有
$$
\left\{
\begin{array}{rcl}
r- d        &      & {r > d}\\
r    &      & {r\leq d}\\

\end{array} \right.

$$
个点数为1的骰子，则剩下的骰子则平摊给其他点数的骰子，此时我们就得到了对手的maybeDice，从而计算每个guess 的 概率

第二种情况，若$d\neq 1 $,那么我们此时就要考虑点数为1的骰子对结果的影响，依据高中知识我们可以知道对手有0个或者1个点数为1的骰子的概率是最大的，那么我们认为对手拥有1个点数为1的骰子，然后再按照case1计算出骰子的分布即可

2.这个概率的计算，因为我们发现我们的猜测是点数为x的骰子数量至少为y的，用二项式分布这是不好计算的。我们可以利用中心极限定理将其转化为标准正态分布计算

我们知道点数为r的骰子（$r\neq 1 $）的个数服从二项式分布$X - B(5,\frac{1}{3})$(以为点数为1的骰子可以当做任意点数的骰子)我们有：

$E(x) =\mu= np = \frac{5}{3}$

$D(X) = \sigma^2=  npq = \frac{10}{3}$

那么有：$\frac{X - \mu}{\sigma} - N(0,1)$

因此我们只需要通过标准正态分布的CDF即可计算概率

结合这两个我们可以计算出每个合法猜测的prob，从中选出概率最大的作为本次的猜测，如果最大的概率都小于我们设定的阈值，我们就选择liar
